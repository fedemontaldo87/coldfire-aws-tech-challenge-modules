{"format_version":"1.2","terraform_version":"1.5.7","variables":{"internal":{"value":false},"name":{"value":"alb-test"},"region":{"value":"us-east-1"},"security_groups":{"value":["sg-alb"]},"subnet_ids":{"value":["sub-public1","sub-public2"]},"vpc_id":{"value":"vpc-1234"}},"planned_values":{"outputs":{"alb_arn":{"sensitive":false},"alb_dns_name":{"sensitive":false},"alb_target_group_arn":{"sensitive":false}},"root_module":{"resources":[{"address":"aws_lb.this","mode":"managed","type":"aws_lb","name":"this","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"access_logs":[],"client_keep_alive":3600,"connection_logs":[],"customer_owned_ipv4_pool":null,"desync_mitigation_mode":"defensive","dns_record_client_routing_policy":null,"drop_invalid_header_fields":false,"enable_cross_zone_load_balancing":null,"enable_deletion_protection":false,"enable_http2":true,"enable_tls_version_and_cipher_suite_headers":false,"enable_waf_fail_open":false,"enable_xff_client_port":false,"enable_zonal_shift":false,"idle_timeout":60,"internal":false,"ipam_pools":[],"load_balancer_type":"application","minimum_load_balancer_capacity":[],"name":"alb-test","preserve_host_header":false,"security_groups":["sg-alb"],"subnets":["sub-public1","sub-public2"],"tags":{"Name":"alb-test"},"tags_all":{"Name":"alb-test"},"timeouts":null,"xff_header_processing_mode":"append"},"sensitive_values":{"access_logs":[],"connection_logs":[],"ipam_pools":[],"minimum_load_balancer_capacity":[],"security_groups":[false],"subnet_mapping":[],"subnets":[false,false],"tags":{},"tags_all":{}}},{"address":"aws_lb_listener.http","mode":"managed","type":"aws_lb_listener","name":"http","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"alpn_policy":null,"certificate_arn":null,"default_action":[{"authenticate_cognito":[],"authenticate_oidc":[],"fixed_response":[],"forward":[],"redirect":[],"type":"forward"}],"port":80,"protocol":"HTTP","tags":null,"timeouts":null},"sensitive_values":{"default_action":[{"authenticate_cognito":[],"authenticate_oidc":[],"fixed_response":[],"forward":[],"redirect":[]}],"mutual_authentication":[],"tags_all":{}}},{"address":"aws_lb_target_group.this","mode":"managed","type":"aws_lb_target_group","name":"this","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"deregistration_delay":"300","health_check":[{"enabled":true,"healthy_threshold":2,"interval":30,"matcher":"200","path":"/","port":"traffic-port","protocol":"HTTP","timeout":5,"unhealthy_threshold":2}],"lambda_multi_value_headers_enabled":false,"name":"alb-test-tg","port":80,"protocol":"HTTP","proxy_protocol_v2":false,"slow_start":0,"tags":null,"target_type":"instance","vpc_id":"vpc-1234"},"sensitive_values":{"health_check":[{}],"load_balancer_arns":[],"stickiness":[],"tags_all":{},"target_failover":[],"target_group_health":[],"target_health_state":[]}}]}},"resource_changes":[{"address":"aws_lb.this","mode":"managed","type":"aws_lb","name":"this","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"access_logs":[],"client_keep_alive":3600,"connection_logs":[],"customer_owned_ipv4_pool":null,"desync_mitigation_mode":"defensive","dns_record_client_routing_policy":null,"drop_invalid_header_fields":false,"enable_cross_zone_load_balancing":null,"enable_deletion_protection":false,"enable_http2":true,"enable_tls_version_and_cipher_suite_headers":false,"enable_waf_fail_open":false,"enable_xff_client_port":false,"enable_zonal_shift":false,"idle_timeout":60,"internal":false,"ipam_pools":[],"load_balancer_type":"application","minimum_load_balancer_capacity":[],"name":"alb-test","preserve_host_header":false,"security_groups":["sg-alb"],"subnets":["sub-public1","sub-public2"],"tags":{"Name":"alb-test"},"tags_all":{"Name":"alb-test"},"timeouts":null,"xff_header_processing_mode":"append"},"after_unknown":{"access_logs":[],"arn":true,"arn_suffix":true,"connection_logs":[],"dns_name":true,"enforce_security_group_inbound_rules_on_private_link_traffic":true,"id":true,"ip_address_type":true,"ipam_pools":[],"minimum_load_balancer_capacity":[],"name_prefix":true,"security_groups":[false],"subnet_mapping":true,"subnets":[false,false],"tags":{},"tags_all":{},"vpc_id":true,"zone_id":true},"before_sensitive":false,"after_sensitive":{"access_logs":[],"connection_logs":[],"ipam_pools":[],"minimum_load_balancer_capacity":[],"security_groups":[false],"subnet_mapping":[],"subnets":[false,false],"tags":{},"tags_all":{}}}},{"address":"aws_lb_listener.http","mode":"managed","type":"aws_lb_listener","name":"http","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"alpn_policy":null,"certificate_arn":null,"default_action":[{"authenticate_cognito":[],"authenticate_oidc":[],"fixed_response":[],"forward":[],"redirect":[],"type":"forward"}],"port":80,"protocol":"HTTP","tags":null,"timeouts":null},"after_unknown":{"arn":true,"default_action":[{"authenticate_cognito":[],"authenticate_oidc":[],"fixed_response":[],"forward":[],"order":true,"redirect":[],"target_group_arn":true}],"id":true,"load_balancer_arn":true,"mutual_authentication":true,"routing_http_request_x_amzn_mtls_clientcert_header_name":true,"routing_http_request_x_amzn_mtls_clientcert_issuer_header_name":true,"routing_http_request_x_amzn_mtls_clientcert_leaf_header_name":true,"routing_http_request_x_amzn_mtls_clientcert_serial_number_header_name":true,"routing_http_request_x_amzn_mtls_clientcert_subject_header_name":true,"routing_http_request_x_amzn_mtls_clientcert_validity_header_name":true,"routing_http_request_x_amzn_tls_cipher_suite_header_name":true,"routing_http_request_x_amzn_tls_version_header_name":true,"routing_http_response_access_control_allow_credentials_header_value":true,"routing_http_response_access_control_allow_headers_header_value":true,"routing_http_response_access_control_allow_methods_header_value":true,"routing_http_response_access_control_allow_origin_header_value":true,"routing_http_response_access_control_expose_headers_header_value":true,"routing_http_response_access_control_max_age_header_value":true,"routing_http_response_content_security_policy_header_value":true,"routing_http_response_server_enabled":true,"routing_http_response_strict_transport_security_header_value":true,"routing_http_response_x_content_type_options_header_value":true,"routing_http_response_x_frame_options_header_value":true,"ssl_policy":true,"tags_all":true,"tcp_idle_timeout_seconds":true},"before_sensitive":false,"after_sensitive":{"default_action":[{"authenticate_cognito":[],"authenticate_oidc":[],"fixed_response":[],"forward":[],"redirect":[]}],"mutual_authentication":[],"tags_all":{}}}},{"address":"aws_lb_target_group.this","mode":"managed","type":"aws_lb_target_group","name":"this","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"deregistration_delay":"300","health_check":[{"enabled":true,"healthy_threshold":2,"interval":30,"matcher":"200","path":"/","port":"traffic-port","protocol":"HTTP","timeout":5,"unhealthy_threshold":2}],"lambda_multi_value_headers_enabled":false,"name":"alb-test-tg","port":80,"protocol":"HTTP","proxy_protocol_v2":false,"slow_start":0,"tags":null,"target_type":"instance","vpc_id":"vpc-1234"},"after_unknown":{"arn":true,"arn_suffix":true,"connection_termination":true,"health_check":[{}],"id":true,"ip_address_type":true,"load_balancer_arns":true,"load_balancing_algorithm_type":true,"load_balancing_anomaly_mitigation":true,"load_balancing_cross_zone_enabled":true,"name_prefix":true,"preserve_client_ip":true,"protocol_version":true,"stickiness":true,"tags_all":true,"target_failover":true,"target_group_health":true,"target_health_state":true},"before_sensitive":false,"after_sensitive":{"health_check":[{}],"load_balancer_arns":[],"stickiness":[],"tags_all":{},"target_failover":[],"target_group_health":[],"target_health_state":[]}}}],"output_changes":{"alb_arn":{"actions":["create"],"before":null,"after_unknown":true,"before_sensitive":false,"after_sensitive":false},"alb_dns_name":{"actions":["create"],"before":null,"after_unknown":true,"before_sensitive":false,"after_sensitive":false},"alb_target_group_arn":{"actions":["create"],"before":null,"after_unknown":true,"before_sensitive":false,"after_sensitive":false}},"configuration":{"provider_config":{"aws":{"name":"aws","full_name":"registry.terraform.io/hashicorp/aws","version_constraint":"~\u003e 5.0","expressions":{"profile":{"constant_value":"dummy"},"region":{"references":["var.region"]},"skip_credentials_validation":{"constant_value":true},"skip_metadata_api_check":{"constant_value":true},"skip_requesting_account_id":{"constant_value":true}}}},"root_module":{"outputs":{"alb_arn":{"expression":{"references":["aws_lb.this.arn","aws_lb.this"]}},"alb_dns_name":{"expression":{"references":["aws_lb.this.dns_name","aws_lb.this"]},"description":"DNS del ALB"},"alb_target_group_arn":{"expression":{"references":["aws_lb_target_group.this.arn","aws_lb_target_group.this"]}}},"resources":[{"address":"aws_lb.this","mode":"managed","type":"aws_lb","name":"this","provider_config_key":"aws","expressions":{"enable_deletion_protection":{"constant_value":false},"internal":{"references":["var.internal"]},"load_balancer_type":{"constant_value":"application"},"name":{"references":["var.name"]},"security_groups":{"references":["var.security_groups"]},"subnets":{"references":["var.subnet_ids"]},"tags":{"references":["var.name"]}},"schema_version":0},{"address":"aws_lb_listener.http","mode":"managed","type":"aws_lb_listener","name":"http","provider_config_key":"aws","expressions":{"default_action":[{"target_group_arn":{"references":["aws_lb_target_group.this.arn","aws_lb_target_group.this"]},"type":{"constant_value":"forward"}}],"load_balancer_arn":{"references":["aws_lb.this.arn","aws_lb.this"]},"port":{"constant_value":80},"protocol":{"constant_value":"HTTP"}},"schema_version":0},{"address":"aws_lb_target_group.this","mode":"managed","type":"aws_lb_target_group","name":"this","provider_config_key":"aws","expressions":{"health_check":[{"healthy_threshold":{"constant_value":2},"interval":{"constant_value":30},"matcher":{"constant_value":"200"},"path":{"constant_value":"/"},"timeout":{"constant_value":5},"unhealthy_threshold":{"constant_value":2}}],"name":{"references":["var.name"]},"port":{"constant_value":80},"protocol":{"constant_value":"HTTP"},"vpc_id":{"references":["var.vpc_id"]}},"schema_version":0}],"variables":{"internal":{"default":false,"description":"Indicates whether the ALB is internal or internet-facing"},"name":{"description":"Base name for the ALB"},"region":{"default":"us-east-1","description":"AWS region where the infrastructure will be deployed"},"security_groups":{"description":"List of security groups to attach to the ALB"},"subnet_ids":{"description":"List of public subnets for the ALB"},"vpc_id":{"description":"VPC where the ALB will be deployed"}}}},"relevant_attributes":[{"resource":"aws_lb.this","attribute":["arn"]},{"resource":"aws_lb_target_group.this","attribute":["arn"]},{"resource":"aws_lb.this","attribute":["dns_name"]}],"timestamp":"2025-07-19T01:44:32Z"}
